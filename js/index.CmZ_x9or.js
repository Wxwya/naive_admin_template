const __vite__fileDeps=["js/form/index.BZBtDsy4.js","js/.pnpm/.pnpm.TXbtyYUu.js","css/.pnpm.Jb4V.css","css/index.CQ9t.css","js/table/index.Dp35iTmQ.js","js/other/index.BHoGXJcA.js","js/index.vue_vue_type_script_setup_true_lang/index.vue_vue_type_script_setup_true_lang.ZWDc_0tu.js","js/posts/index.C6IIcARi.js","js/chart/index.19RZfeVH.js","js/user/index.Q_6gzQmx.js","js/login/index.Dn79ZJSr.js","css/index.0SC-.css","js/404/index.FbTeoNgl.js","css/index.2-83.css"],__vite__mapDeps=i=>i.map(i=>__vite__fileDeps[i]);
import{d as ne,m as se,a as ae,h as A,b as E,o as d,c as f,w as i,e as u,u as a,f as w,g as P,_ as re,i as le,j as ce,k as ie,l as ue,r as de,s as z,n as pe,p as O,q as $,T as V,K as D,t as T,v as H,x as G,y as q,z as W,A as F,B as K,C as J,D as S,E as _e,F as me,G as fe,H as he,I as ge,J as ve,L as ye,M as C,N,O as we,P as be,Q as ke,R as $e,S as Ee,U as Re}from"./.pnpm/.pnpm.TXbtyYUu.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))l(n);new MutationObserver(n=>{for(const s of n)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&l(r)}).observe(document,{childList:!0,subtree:!0});function o(n){const s={};return n.integrity&&(s.integrity=n.integrity),n.referrerPolicy&&(s.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?s.credentials="include":n.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function l(n){if(n.ep)return;n.ep=!0;const s=o(n);fetch(n.href,s)}})();const xe=()=>{},Pe=Object.freeze(Object.defineProperty({__proto__:null,login:xe},Symbol.toStringTag,{value:"Module"})),Ie=()=>{},Se=()=>{},Le=Object.freeze(Object.defineProperty({__proto__:null,editUserinfo:Se,getUserinfo:Ie},Symbol.toStringTag,{value:"Module"}));let Q={};const B=Object.assign({"./system.ts":Pe,"./user.ts":Le});for(const t in B){const e=t.split(/[\/\.]/)[2];Q[e]=B[t]}const Ue="modulepreload",je=function(t){return"/"+t},M={},v=function(e,o,l){let n=Promise.resolve();if(o&&o.length>0){document.getElementsByTagName("link");const s=document.querySelector("meta[property=csp-nonce]"),r=(s==null?void 0:s.nonce)||(s==null?void 0:s.getAttribute("nonce"));n=Promise.all(o.map(p=>{if(p=je(p),p in M)return;M[p]=!0;const c=p.endsWith(".css"),m=c?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${m}`))return;const _=document.createElement("link");if(_.rel=c?"stylesheet":Ue,c||(_.as="script",_.crossOrigin=""),_.href=p,r&&_.setAttribute("nonce",r),document.head.appendChild(_),c)return new Promise((h,y)=>{_.addEventListener("load",h),_.addEventListener("error",()=>y(new Error(`Unable to preload CSS for ${p}`)))})}))}return n.then(()=>e()).catch(s=>{const r=new Event("vite:preloadError",{cancelable:!0});if(r.payload=s,window.dispatchEvent(r),!r.defaultPrevented)throw s})},b=ne("system",{state:()=>({layout:"level",permissions:["user","info","chart","table","posts","other"],routes:[],routesAdded:!1,theme:null,pc:!0,collapsed:!1}),actions:{changeLayout(){this.layout=this.layout==="vertical"?"level":"vertical"},getUserInfo(){this.addRoutes()},changeTheme(){this.theme=this.theme!=null?null:se(ae)},addRoutes(){console.log("开始添加路由");const t=this.handlePermissionsRoutes(He);t.length&&(I[0].children=[...I[0].children,...t]),[...I,...qe].forEach(o=>{U.addRoute(o)}),this.routes=this.handleNav(I[0].children),console.log("添加路由完成")},handlePermissionsRoutes(t){return t.filter(e=>(e.children&&e.children.length>0&&(e.children=this.handlePermissionsRoutes(e.children)),this.permissions.includes(e.name)))},handleNav(t){return t.map(e=>{let o={label:e.meta.title,key:e.path};return e.meta.icon&&(o.icon=()=>A("span",{class:`iconify-color ${e.meta.icon}`})),e.children&&e.children.length>0&&(e.children.length==1?(e.children[0].meta.icon&&(o.icon=()=>A("span",{class:`iconify-color ${e.children[0].meta.icon}`})),o.title=e.children[0].meta.title,o.key=e.children[0].path):o.children=this.handleNav(e.children)),o})},setToken(){localStorage.setItem("token","123456")}},persist:{key:"system",storage:localStorage,paths:["layout","theme"]}}),L={title:"xwya",sidebarLogo:!0,avatar:!0},Ae=P("div",null,"xwya",-1),Z=E({__name:"down",setup(t){const e=b(),o=[{label:"用户资料",key:"profile"},{label:"切换布局",key:"editProfile"},{label:"切换主题",key:"theme"},{label:"退出登录",key:"logout"}],l=n=>{switch(n){case"editProfile":e.changeLayout();break;case"theme":e.changeTheme();break;case"logout":console.log("logout"),localStorage.removeItem("token"),window.location.reload();break;default:console.log("default");break}};return(n,s)=>{const r=re,p=le,c=ce;return d(),f(c,{options:o,trigger:"click",onSelect:l},{default:i(()=>[u(p,{class:"items-center"},{default:i(()=>[a(L).avatar?(d(),f(r,{key:0,round:"",size:"small",src:"https://07akioni.oss-cn-beijing.aliyuncs.com/07akioni.jpeg"})):w("",!0),Ae]),_:1})]),_:1})}}}),X=()=>{const{push:t}=ie(),e=ue(),o=de(""),{routes:l,collapsed:n,pc:s}=z(b()),r=c=>{s.value||(n.value=!1),t(c)},p=c=>c.icon?A(c.icon):!1;return pe(()=>e.path,()=>{o.value=e.path},{immediate:!0}),{routes:l,collapsed:n,path:o,onUpdareValue:r,renderMenuIcon:p,pc:s}},Oe={key:0,class:"pl-4"},Te={key:1,src:"https://upload.shejihz.com/2020/02/961c95fffbdd3ecc99fdb4e33faa8237.jpg",class:"w-[400px] h-full",alt:"logo"},Ce=E({__name:"vertical",setup(t){const{collapsed:e,routes:o,path:l,onUpdareValue:n,renderMenuIcon:s,pc:r}=X();return(p,c)=>{const m=G,_=q,h=W,y=F,j=O("router-view"),R=K,x=J;return d(),f(R,null,{default:i(()=>[u(_,{class:"w-full h-[64px] pr-[30px]",bordered:""},{default:i(()=>[u(m,{justify:"space-between",class:"h-full",align:"center"},{default:i(()=>[a(r)?(d(),$("img",Te)):(d(),$("div",Oe,[P("span",{class:"iconify gg--menu-cheese text-4xl",onClick:c[0]||(c[0]=g=>e.value=!a(e))})])),u(Z)]),_:1})]),_:1}),u(R,{class:"h-[calc(100vh-64px)]","has-sider":""},{default:i(()=>[a(r)?(d(),f(y,{key:0,"collapse-mode":"width","collapsed-width":64,width:240,collapsed:a(e),"show-trigger":"",onCollapse:c[1]||(c[1]=g=>e.value=!0),onExpand:c[2]||(c[2]=g=>e.value=!1),bordered:""},{default:i(()=>[u(h,{"render-icon":a(s),"default-value":a(l),"onUpdate:value":a(n),collapsed:a(e),"collapsed-width":64,"collapsed-icon-size":22,options:a(o)},null,8,["render-icon","default-value","onUpdate:value","collapsed","options"])]),_:1},8,["collapsed"])):w("",!0),u(R,{"native-scrollbar":!1},{default:i(()=>[u(j,null,{default:i(({Component:g})=>[u(V,{appear:"",name:"fade-transform",mode:"out-in"},{default:i(()=>[(d(),f(D,null,[(d(),f(T(g)))],1024))]),_:2},1024)]),_:1})]),_:1})]),_:1}),a(r)?w("",!0):(d(),f(x,{key:0,show:a(e),"onUpdate:show":c[3]||(c[3]=g=>H(e)?e.value=g:null),width:200,placement:"left"},{default:i(()=>[u(h,{"render-icon":a(s),"default-value":a(l),"onUpdate:value":a(n),collapsed:!a(e),"collapsed-width":64,"collapsed-icon-size":22,options:a(o)},null,8,["render-icon","default-value","onUpdate:value","collapsed","options"])]),_:1},8,["show"]))]),_:1})}}}),Ne=["src"],Be={key:0,class:"pl-4"},Me=E({__name:"level",setup(t){const{collapsed:e,routes:o,path:l,onUpdareValue:n,renderMenuIcon:s,pc:r}=X(),p=S(()=>e.value?"https://img1.baidu.com/it/u=3430690511,3867923153&fm=253&fmt=auto&app=138&f=JPEG?w=500&h=453":"https://upload.shejihz.com/2020/02/961c95fffbdd3ecc99fdb4e33faa8237.jpg");return(c,m)=>{const _=W,h=F,y=G,j=q,R=O("router-view"),x=K,g=J;return d(),f(x,{"has-sider":""},{default:i(()=>[a(r)?(d(),f(h,{key:0,"collapse-mode":"width","collapsed-width":64,width:240,collapsed:a(e),"show-trigger":"",onCollapse:m[0]||(m[0]=k=>e.value=!0),onExpand:m[1]||(m[1]=k=>e.value=!1),bordered:""},{default:i(()=>[P("div",null,[a(L).sidebarLogo?(d(),$("img",{key:0,src:a(p),class:"w-full h-[54px]",alt:"logo"},null,8,Ne)):w("",!0),u(_,{"render-icon":a(s),"default-value":a(l),"onUpdate:value":a(n),collapsed:a(e),"collapsed-width":64,"collapsed-icon-size":22,options:a(o)},null,8,["render-icon","default-value","onUpdate:value","collapsed","options"])])]),_:1},8,["collapsed"])):w("",!0),u(x,{class:"h-[100vh]"},{default:i(()=>[u(j,{class:"w-full h-[64px] pr-[30px]",bordered:""},{default:i(()=>[u(y,{justify:a(r)?"end":"space-between",class:"h-full",align:"center"},{default:i(()=>[a(r)?w("",!0):(d(),$("div",Be,[P("span",{class:"iconify gg--menu-cheese text-4xl",onClick:m[2]||(m[2]=k=>e.value=!a(e))})])),u(Z)]),_:1},8,["justify"])]),_:1}),u(x,{class:"h-[calc(100vh-64px)]","native-scrollbar":!1},{default:i(()=>[u(R,null,{default:i(({Component:k})=>[u(V,{appear:"",name:"fade-transform",mode:"out-in"},{default:i(()=>[(d(),f(D,null,[(d(),f(T(k)))],1024))]),_:2},1024)]),_:1})]),_:1})]),_:1}),a(r)?w("",!0):(d(),f(g,{key:1,show:a(e),"onUpdate:show":m[3]||(m[3]=k=>H(e)?e.value=k:null),width:200,placement:"left"},{default:i(()=>[u(_,{"render-icon":a(s),"default-value":a(l),"onUpdate:value":a(n),collapsed:!a(e),"collapsed-width":64,"collapsed-icon-size":22,options:a(o)},null,8,["render-icon","default-value","onUpdate:value","collapsed","options"])]),_:1},8,["show"]))]),_:1})}}}),ze=992,Ve=()=>{const{body:t}=document,{pc:e,collapsed:o}=z(b()),l=()=>t.getBoundingClientRect().width-1<ze,n=()=>{if(!document.hidden){const s=l();e.value=!s,s&&(o.value=!1)}};_e(()=>{window.addEventListener("resize",n)}),me(()=>{window.removeEventListener("resize",n)}),fe(()=>{const s=l();s&&(e.value=!s,o.value=!1)})},De=E({__name:"index",setup(t){Ve();const e={vertical:Ce,level:Me},o=b();return(l,n)=>(d(),f(T(e[a(o).layout])))}}),I=[{path:"/",name:"layout",component:De,redirect:"/form",children:[{path:"/form",name:"form",meta:{title:"表单示例",icon:"emojione-v1--keycap-1"},component:()=>v(()=>import("./form/index.BZBtDsy4.js"),__vite__mapDeps([0,1,2,3]))}]}],He=[{path:"/table",name:"table",meta:{title:"表格示例",icon:"emojione-v1--keycap-2"},component:()=>v(()=>import("./table/index.Dp35iTmQ.js"),__vite__mapDeps([4,1,2]))},{path:"/other",name:"other",meta:{title:"其他示例",icon:"emojione-v1--keycap-7"},component:()=>v(()=>import("./other/index.BHoGXJcA.js"),__vite__mapDeps([5,1,2,6]))},{path:"/info",name:"info",redirect:"/posts",meta:{title:"测试二级路由",icon:"emojione-v1--keycap-3"},children:[{path:"/info/posts",name:"posts",meta:{title:"文章",icon:"emojione-v1--keycap-4"},component:()=>v(()=>import("./posts/index.C6IIcARi.js"),__vite__mapDeps([7,1,2]))},{path:"/info/chart",name:"chart",meta:{title:"图表",icon:"emojione-v1--keycap-5"},component:()=>v(()=>import("./chart/index.19RZfeVH.js"),__vite__mapDeps([8,1,2]))},{path:"/info/user",name:"user",meta:{title:"用户管理",icon:"emojione-v1--keycap-6"},component:()=>v(()=>import("./user/index.Q_6gzQmx.js"),__vite__mapDeps([9,1,2]))}]}],Ge=[{path:"/login",name:"login",component:()=>v(()=>import("./login/index.Dn79ZJSr.js"),__vite__mapDeps([10,6,1,2,11])),hidden:!0}],qe=[{path:"/:pathMatch(.*)*",name:"NotFound",component:()=>v(()=>import("./404/index.FbTeoNgl.js"),__vite__mapDeps([12,1,2,13])),hidden:!0}],We=()=>he({history:ge(),scrollBehavior:()=>({top:0}),routes:[...Ge]});let U=We();const Y=ve();Y.use(ye);function Fe(t){return/^(https?:|mailto:|tel:)/.test(t)}const Ke=["xlink:href"],Je=E({__name:"index",props:{name:{type:String,required:!0},className:{type:String,default:""}},setup(t){const e=t,o=Fe(e.name),l=S(()=>`#icon-${e.name}`),n=S(()=>e.className?"svg-icon "+e.className:"svg-icon"),s=S(()=>({mask:`url(${e.name}) no-repeat 50% 50%`,"-webkit-mask":`url(${e.name}) no-repeat 50% 50%`}));return(r,p)=>a(o)?(d(),$("div",C({key:0,style:a(s),class:"svg-external-icon svg-icon"},N(r.$attrs)),null,16)):(d(),$("svg",C({key:1,class:a(n),"aria-hidden":"true"},N(r.$attrs)),[P("use",{"xlink:href":a(l)},null,8,Ke)],16))}}),Qe=(t,e)=>{const o=t.__vccOpts||t;for(const[l,n]of e)o[l]=n;return o},Ze=Qe(Je,[["__scopeId","data-v-884d7878"]]);function Xe(t){t.component("svg-icon",Ze)}const{message:ee,loadingBar:te,notification:Ye,dialog:et,modal:tt}=we(["message","loadingBar","notification","dialog","modal"]);console.log(ee,"msg");console.log(te,"loadingBar");window.$msg=ee;window.$bar=te;window.$notice=Ye;window.$dialog=et;window.$modal=tt;U.beforeEach((t,e,o)=>{const l=b(),n=localStorage.getItem("token");window.$bar.start(),n?l.routesAdded?t.path==="/login"?o("/"):o():(l.getUserInfo(),l.routesAdded=!0,o({...t,replace:!0})):t.path==="/login"?o():o(`/login?redirect=${t.path}`)});U.afterEach((t,e,o)=>{window.$bar.finish(),document.title=`${t.meta.title?L.title+"-"+t.meta.title:L.title}`});const ot=(t,e=0)=>{if(t.startsWith("rgba")||t.startsWith("rgb"))return st(t,e);if(t.startsWith("#"))return nt(t,e);throw new Error("Unsupported color format")},nt=(t,e)=>{t=t.replace("#","");const o=Math.max(0,Math.min(15,15+e));return`#${t.split("").map(n=>{const s=parseInt(n,16);return Math.abs(o-s).toString(16)}).join("")}`},st=(t,e)=>{const o=t.match(/rgba?\((\d+),\s*(\d+),\s*(\d+),?\s*([\d\.]*)?\)/);if(!o)throw new Error("Invalid RGBA color format");const[,l,n,s,r]=o.map(Number),p=Math.max(0,Math.min(255,255+e*17)),c=y=>Math.max(0,Math.min(255,p-y)),m=c(l),_=c(n),h=c(s);return r!==void 0&&!isNaN(r)?`rgba(${m}, ${_}, ${h}, ${r})`:`rgb(${m}, ${_}, ${h})`},at=(t,e)=>"rgba("+parseInt("0x"+t.slice(1,3))+","+parseInt("0x"+t.slice(3,5))+","+parseInt("0x"+t.slice(5,7))+","+e+")",rt=t=>{t.use(U),t.use(Y),Xe(t),b(),t.config.globalProperties.$api=Q,t.config.globalProperties.$mitt=be(),t.config.globalProperties.$qf=ot,t.config.globalProperties.$htor=at},lt=E({__name:"App",setup(t){const e=b();return(o,l)=>{const n=O("router-view"),s=ke;return d(),f(s,{locale:a($e),theme:a(e).theme,"date-locale":a(Ee)},{default:i(()=>[u(n)]),_:1},8,["locale","theme","date-locale"])}}}),oe=Re(lt);rt(oe);oe.mount("#app");export{Qe as _,b as u};
